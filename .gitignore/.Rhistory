runApp()
lapply(dbListConnections(MySQL()), dbDisconnect)
lapply(dbListConnections(MySQL()), dbDisconnect)
lapply(dbListConnections(MySQL()), dbDisconnect)
runApp()
lapply(dbListConnections(MySQL()), dbDisconnect)
lapply(dbListConnections(MySQL()), dbDisconnect)
runApp()
runApp()
lapply(dbListConnections(MySQL()), dbDisconnect)
runApp()
runApp()
lapply(dbListConnections(MySQL()), dbDisconnect)
runApp()
runApp()
lapply(dbListConnections(MySQL()), dbDisconnect)
runApp()
runApp()
runApp()
runApp()
runApp()
lapply(dbListConnections(MySQL()), dbDisconnect)
runApp()
runApp()
runApp()
shiny::runApp()
runApp()
tentative_graph <- function(id_formation, id_question){
tbl(con,
sql(paste("select reponse.score, question.libelle
FROM choix
INNER JOIN reponse as reponse_formation
ON reponse_formation.choix_id = choix.id
AND reponse_formation.question_id = 14
INNER JOIN reponse
ON reponse.session_id = reponse_formation.session_id
INNER JOIN question
ON question.id = reponse.question_id
INNER JOIN page
ON page.id = question.page_id
and choix.id =", id_formation, "and reponse.question_id = ", id_question))
) %>% collect() %>%
ggplot( aes(x = score))+
geom_histogram(bins = 10)
}
tentative_graph(5,5)
con <- dbConnect(MySQL(), host="localhost", user="root", password="root", dbname="evaluation")
tentative_graph(5,5)
tentative_graph(2,5)
runApp()
paste(1, "ab", "C")
id_formation <- 2
id_question <- 5
paste("select reponse.score, question.libelle
FROM choix
INNER JOIN reponse as reponse_formation
ON reponse_formation.choix_id = choix.id
AND reponse_formation.question_id = 14
INNER JOIN reponse
ON reponse.session_id = reponse_formation.session_id
INNER JOIN question
ON question.id = reponse.question_id
INNER JOIN page
ON page.id = question.page_id
and choix.id =", id_formation, "and reponse.question_id =",id_question)
runApp()
runApp()
get_data <- function(id_formation, id_question){
tbl(con,
sql(paste("select reponse.score, question.libelle
FROM choix
INNER JOIN reponse as reponse_formation
ON reponse_formation.choix_id = choix.id
AND reponse_formation.question_id = 14
INNER JOIN reponse
ON reponse.session_id = reponse_formation.session_id
INNER JOIN question
ON question.id = reponse.question_id
INNER JOIN page
ON page.id = question.page_id
and choix.id =", id_formation, "and reponse.question_id = ", id_question))
) %>% collect()
}
runApp()
runApp()
get_data <- function(id_formation, id_question){
tbl(con,
sql(paste("select reponse.score, question.libelle
FROM choix
INNER JOIN reponse as reponse_formation
ON reponse_formation.choix_id = choix.id
AND reponse_formation.question_id = 14
INNER JOIN reponse
ON reponse.session_id = reponse_formation.session_id
INNER JOIN question
ON question.id = reponse.question_id
INNER JOIN page
ON page.id = question.page_id
and choix.id =", id_formation, "and reponse.question_id = ", id_question))
) %>% collect()
}
get_data(1,3)
get_data(1,19)
runApp()
get_data(1,2)
get_data(5,2)
get_data(9,2)
is.null(get_data(9,2))
is_empty(get_data(9,2))
get_data(0,2)
get_data(1,2)
get_data(9,2)
length(get_data(9,2))
get_data(9,2)$score
get_data(9,2)$score
is.null(get_data(9,2)$score)
is.na(get_data(9,2)$score)
is.na(get_data(9,2))
is.na(get_data(9,2)$score)
is.na(get_data(5,2)$score)
is.na(get_data(5,19)$score)
ifelse(1 %in% get_data(9,2)$score, print("ok"), print('nok'))
ifelse(1 %in% get_data(1,7)$score, print("ok"), print('nok'))
ifelse(1 %in% get_data(1,2)$score, print("ok"), print('nok'))
1 %in% get_data(1,2)$score
c(1,2,3,4) %in% get_data(1,2)$score
any(c(1,2,3,4) %in% get_data(1,2)$score)
if (any(c(1,2,3,4) %in% get_data(1,2)$score)) {
print("pas de score")
}else {
print("donc du texte")
}
if (any(c(1,2,3,4) %in% get_data(1,19)$score)) {
print("pas de score")
}else {
print("donc du texte")
}
runApp()
runApp()
if (any(c(1,2,3,4) %in% get_data(1,2)$score)) {
print("pas de score")
}else {
print("donc du texte")
}
get_data_texte <- function(id_formation, id_question){
tbl(con,
sql(paste("select reponse.score, question.libelle, reponse.texte
FROM choix
INNER JOIN reponse as reponse_formation
ON reponse_formation.choix_id = choix.id
AND reponse_formation.question_id = 14
INNER JOIN reponse
ON reponse.session_id = reponse_formation.session_id
INNER JOIN question
ON question.id = reponse.question_id
INNER JOIN page
ON page.id = question.page_id
and choix.id = ",id_formation," and reponse.question_id = ",id_question))
) %>% collect()
}
runApp()
if (any(c(1,2,3,4) %in% get_data(1,20)$score)) {
print("score")
}else {
print(" texte")
}
if (any(c(1,2,3,4) %in% get_data(1,2)$score)) {
print("score")
}else {
print(" texte")
}
if (any(c(1,2,3,4) %in% get_data(1,2)$score)) {
get_data(1,2)
}else {
get_data_texte(1,2)
}
get_data(1,2)
get_data_texte(5,2)
if (any(c(1,2,3,4) %in% get_data(5,20)$score)) {
get_data(5,2)
}else {
get_data_texte(5,2)
}
if (any(c(1,2,3,4) %in% get_data(5,20)$score)) {
get_data(5,20)
}else {
get_data_texte(5,20)
}
if (any(c(1,2,3,4) %in% get_data(5,20)$score)) {
get_data(5,20)
}else {
get_data_texte(5,20)
}
if (any(c(1,2,3,4) %in% get_data(5,2)$score)) {
get_data(5,20)
}else {
get_data_texte(5,20)
}
if (any(c(1,2,3,4) %in% get_data(5,2)$score)) {
get_data(5,2)
}else {
get_data_texte(5,22)
}
if (any(c(1,2,3,4) %in% get_data(5,2)$score)) {
get_data(5,2)
}else {
get_data_texte(5,2)
}
if (any(c(1,2,3,4) %in% get_data(1,2)$score)) {
get_data(5,2)
}else {
get_data_texte(5,2)
}
runApp()
if (any(c(1,2,3,4) %in% get_data(5,6)$score)) {
get_data(5,6)
}else {
get_data_texte(5,6)
}
sum(get_data(5,6)$score)
is.na(sum(get_data(5,6)$score))
if (is.na(sum(get_data(5,6)$score))) {
get_data(5,6)
}else {
get_data_texte(5,6)
}
if (is.na(sum(get_data(5,7)$score))) {
get_data(5,6)
}else {
get_data_texte(5,6)
}
if (is.na(sum(get_data(5,7)$score))) {
get_data(5,7)
}else {
get_data_texte(5,7)
}
get_data_texte(5,7)$libelle
if (any(c(1,2,3,4) %in% get_data(5,6)$score)) {
get_data(5,6)
}else {
get_data_texte(5,6)
}
if (any(c(1,2,3,4) %in% get_data(5,7)$score)) {
get_data(5,7)
}else {
get_data_texte(5,7)
}
if (any(c(1,2,3,4) %in% get_data(5,7)$score)) {
get_data(5,7)$score
}else {
get_data_texte(5,7)$libelle
}
get_data(5,6)$score
get_data_texte(5,6)$score
any(c(1,2,3,4) %in% get_data_texte(5,6)$score))
(any(c(1,2,3,4) %in% get_data_texte(5,6)$score))
(any(c(1,2,3,4) %in% get_data_texte(5,6)$score))
if (any(c(1,2,3,4) %in% get_data_texte(5,6)$score)) {
get_data_texte(1,6)$score
}else {
get_data_texte(1,6)$libelle
}
get_data_texte(1,6)$texte
if (any(c(1,2,3,4) %in% get_data_texte(5,5)$score)) {
get_data_texte(1,5)$score
}else {
get_data_texte(1,5)$texte
}
if (any(c(1,2,3,4) %in% get_data_texte(5,5)$score)) {
get_data_texte(1,5)$score
}else {
get_data_texte(1,5)$texte
}
get_data_texte(1,5)$score
get_data_texte(5,5)$score
get_data_texte(1,5)$texte
if (any(c(1,2,3,4) %in% get_data_texte(1,5)$score)) {
get_data_texte(1,5)$score
}else {
get_data_texte(1,5)$texte
}
get_data_texte(9,5)$score
?integer(0)
get_data_texte(9,5)
typeof(get_data_texte(9,5))
is.integer(get_data_texte(9,5)
is.integer(get_data_texte(9,5))
is.integer(get_data_texte(9,5)$texte)
is.integer(get_data_texte(9,5)$score)
get_data_texte(9,5)$score
if (any(c(1,2,3,4) %in% get_data_texte(9,5)$score)) {
get_data_texte(9,5)$score
}if (is.integer(get_data_texte(9,5)$score)) {
print("pas d'info en base")
}else {
get_data_texte(9,5)$texte
}
get_data_texte(9,5)$score
if (any(c(1,2,3,4) %in% get_data_texte(9,5)$score)) {
get_data_texte(9,5)$score
}else if  (is.integer(get_data_texte(9,5)$score)) {
print("pas d'info en base")
}else {
get_data_texte(9,5)$texte
}
get_data_texte(9,5)$score
if (any(c(1,2,3,4) %in% get_data_texte(9,5)$score)) {
get_data_texte(9,5)$score
}else if  (is.integer(get_data_texte(9,5)$score)) {
print("pas d'info en base")
}else {
get_data_texte(9,5)$texte
}
if (any(c(1,2,3,4) %in% get_data_texte(9,5)$score)) {
get_data_texte(9,5)$score
}else if  (is.integer(get_data_texte(9,5)$score)) {
print("pas d'info en base")
}else {
get_data_texte(9,5)$texte
}
if (any(c(1,2,3,4) %in% get_data_texte(11,5)$score)) {
get_data_texte(11,5)$score
}else if  (is.integer(get_data_texte(11,5)$score)) {
print("pas d'info en base")
}else {
get_data_texte(11,5)$texte
}
get_data_texte(11,5)$score
if (any(c(1,2,3,4) %in% get_data_texte(11,2)$score)) {
get_data_texte(11,5)$score
}else if  (is.integer(get_data_texte(11,2)$score)) {
print("pas d'info en base")
}else {
get_data_texte(11,2)$texte
}
if (any(c(1,2,3,4) %in% get_data_texte(11,2)$score)) {
get_data_texte(11,2)$score
}else if  (is.integer(get_data_texte(11,2)$score)) {
print("pas d'info en base")
}else {
get_data_texte(11,2)$texte
}
if (any(c(1,2,3,4) %in% get_data_texte(1,2)$score)) {
get_data_texte(1,2)$score
}else if  (is.integer(get_data_texte(1,2)$score)) {
print("pas d'info en base")
}else {
get_data_texte(1,2)$texte
}
if (any(c(1,2,3,4) %in% get_data_texte(1,2)$score)) {
get_data_texte(1,2)$score
}else if  (is.integer(get_data_texte(1,2)$score)) {
print("pas d'info en base")
}else {
get_data_texte(1,2)$texte
}
if (any(c(1,2,3,4) %in% get_data_texte(1,2)$score)) {
get_data_texte(1,2)$score
}else if  (is.integer(get_data_texte(1,2)$score)) {
print("pas d'info en base")
}else {
get_data_texte(1,2)$texte
}
is.integer(get_data_texte(1,2)$score)
dim(get_data_texte(1,2))
dim(get_data_texte(1,2))[1]
if (any(c(1,2,3,4) %in% get_data_texte(1,2)$score)) {
get_data_texte(1,2)$score
}else if  (dim(get_data_texte(1,2))[1] == 0) {
print("pas d'info en base")
}else {
get_data_texte(1,2)$texte
}
if (any(c(1,2,3,4) %in% get_data_texte(1,2)$score)) {
get_data_texte(1,2)$score
}else if  (dim(get_data_texte(1,2))[1] == 0) {
print("pas d'info en base")
}else {
get_data_texte(1,2)$texte
}
#           	AND reponse_formation.question_id = 14
#           INNER JOIN reponse
#           	ON reponse.session_id = reponse_formation.session_id
#           INNER JOIN question
#           	ON question.id = reponse.question_id
#           INNER JOIN page
#           	ON page.id = question.page_id
#           and choix.id =", id_formation, "and reponse.question_id = ", id_question))
#   ) %>% collect()
# }
get_data <- function(id_formation, id_question){
tbl(con,
sql(paste("select reponse.score, question.libelle, reponse.texte
FROM choix
INNER JOIN reponse as reponse_formation
ON reponse_formation.choix_id = choix.id
AND reponse_formation.question_id = 14
INNER JOIN reponse
ON reponse.session_id = reponse_formation.session_id
INNER JOIN question
ON question.id = reponse.question_id
INNER JOIN page
ON page.id = question.page_id
and choix.id = ",id_formation," and reponse.question_id = ",id_question))
) %>% collect()
}
if (any(c(1,2,3,4) %in% get_data(1,2)$score)) {
get_data(1,2)$score
# j'envoi ces données pour le plot graph
}else if  (dim(get_data(1,2))[1] == 0) {
print("pas d'info en base")
# j'affiche un message d'erreur ou try / catch
}else {
get_data(1,2)$texte
# je render Text
}
get_data(5,2)$texte
get_data(11,2)$texte
if (any(c(1,2,3,4) %in% get_data(11,2)$score)) {
get_data(11,2)$score
# j'envoi ces données pour le plot graph
}else if  (dim(get_data(11,2))[1] == 0) {
print("pas d'info en base")
# j'affiche un message d'erreur ou try / catch
}else {
get_data(11,2)$texte
# je render Text
}
get_data_texte(1,2)
runApp()
runApp()
runApp()
lapply(dbListConnections(MySQL()), dbDisconnect)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
typeof(get_data_texte(1,2))
con <- dbConnect(MySQL(), host="localhost", user="root", password="root", dbname="evaluation")
lapply(dbListConnections(MySQL()), dbDisconnect)
typeof(get_data_texte(1,2))
typeof(get_data(1,2))
typeof(get_data(1,2))
con <- dbConnect(MySQL(), host="localhost", user="root", password="root", dbname="evaluation")
typeof(get_data(1,2))
runApp()
list_of_text_question_id <- function(){
tbl(con, sql("SELECT  id FROM evaluation.question where type like 'texte%'"))
}
list_of_text_question_id()
unique(list_of_text_question_id()$id)
(list_of_text_question_id()$id
list_of_text_question_id()$id
list_of_text_question_id()$id
list_of_text_question_id()
a <- list_of_text_question_id()
a$id
list_of_text_question_id <- function(){
tbl(con, sql("SELECT  id FROM evaluation.question where type like 'texte%'")
) %>%
collect
}
list_of_text_question_id()$id
if (2 in list_of_text_question_id()$id){
print("reponse texte j'outblut table")
}else if (2 == ""){
print("Pas d'infos en base")
}else {
print("on graph")
}
if(2 %in% list_of_text_question_id()$id){
print("reponse texte j'outblut table")
}else if (2 == ""){
print("Pas d'infos en base")
}else {
print("on graph")
}
print("reponse texte j'outblut table")
give_me_option <- function(inputdelaquestion){
if( inputdelaquestion %in% list_of_text_question_id()$id){
return ('texte')
}else if ( inputdelaquestion  == ""){
return ('pas_infos')
}else {
return ('graph')
}
}
give_me_option(1)
give_me_option(2)
give_me_option(5)
give_me_option(12)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
lapply(dbListConnections(MySQL()), dbDisconnect)
lapply(dbListConnections(MySQL()), dbDisconnect)
con <- dbConnect(MySQL(), host="localhost", user="root", password="root", dbname="evaluation")
runApp()
runApp()
shiny::runApp()
runApp()
runApp()
runApp()
